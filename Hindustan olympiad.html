<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Hindustan Olympiad Prep</title>
    <style>
        :root { --primary: #e67e22; --secondary: #2c3e50; --light: #ecf0f1; }
        body { font-family: sans-serif; margin: 0; background: var(--light); }
        .screen { display: none; padding: 20px; text-align: center; }
        .active { display: block; }
        
        /* Splash Screen */
        #splash { background: var(--secondary); color: white; height: 100vh; display: flex; flex-direction: column; justify-content: center; align-items: center; }
        
        /* Dashboard & Cards */
        .grid { display: grid; grid-template-columns: repeat(auto-fill, minmax(120px, 1fr)); gap: 10px; margin-top: 20px; }
        .card { background: white; padding: 15px; border-radius: 8px; cursor: pointer; border: 1px solid #ddd; }
        .card:hover { background: var(--primary); color: white; }

        /* Exam Layout */
        #exam-box { background: white; padding: 20px; border-radius: 10px; text-align: left; max-width: 600px; margin: auto; }
        .btn { background: var(--primary); color: white; border: none; padding: 10px 20px; border-radius: 5px; cursor: pointer; }
    </style>
</head>
<body>

    <div id="splash" class="screen active">
        <h1>Hindustan Olympiad</h1>
        <p>Empowering Minds for Tomorrow</p>
        <button class="btn" onclick="showScreen('home')">Get Started</button>
    </div>

    <div id="home" class="screen">
        <h2>Select Your Class</h2>
        <div class="grid" id="class-grid">
            </div>
    </div>

    <div id="stream-select" class="screen">
        <h2>Choose Your Stream</h2>
        <button class="btn" onclick="startExam('Science')">Science</button>
        <button class="btn" onclick="startExam('Commerce')">Commerce</button>
        <button class="btn" onclick="startExam('Humanities')">Humanities</button>
    </div>

    <div id="exam-screen" class="screen">
        <h3 id="exam-title">Exam in Progress</h3>
        <div id="exam-box">
            <p id="question-text">Loading AI-generated questions...</p>
            <div id="options"></div>
        </div>
    </div>

    <script>
        let userClass = null;

        // Initialize Classes 1-12
        const grid = document.getElementById('class-grid');
        for (let i = 1; i <= 12; i++) {
            let div = document.createElement('div');
            div.className = 'card';
            div.innerText = 'Class ' + i;
            div.onclick = () => selectClass(i);
            grid.appendChild(div);
        }

        function showScreen(id) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(id).classList.add('active');
        }

        function selectClass(num) {
            userClass = num;
            if (num >= 11) {
                showScreen('stream-select');
            } else {
                startExam('General');
            }
        }

        async function startExam(stream) {
            showScreen('exam-screen');
            document.getElementById('exam-title').innerText = `Class ${userClass} - ${stream} Olympiad`;
            
            // This is where you call your PRIVATE API
            const question = await callGeminiAI(userClass, stream);
            document.getElementById('question-text').innerText = question;
        }

        // SECURE WAY: This calls your own backend, NOT Google directly
        async function callGeminiAI(cls, stream) {
            // Placeholder: In real life, use: fetch('/api/generate-question', { method: 'POST'... })
            return `[AI Question for Class ${cls} ${stream}]: What is the core concept of NCERT Chapter 1?`;
        }
    </script>
</body>
</html>
